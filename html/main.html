<!DOCTYPE html>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>myPage — 메인</title>
<link rel="stylesheet" href="../css/main.css" />
</head>
<body>
<header>
<div class="container">
<h1><a href="./main.html">myPage</a></h1>
<nav aria-label="주요">
<ul class="nav">
<li><a href="./main.html" aria-current="page">홈</a></li>
<li><a href="./login.html">로그인</a></li>
<li><a href="./signup.html">회원가입</a></li>
</ul>
</nav>
</div>
</header>


<main id="content" tabindex="-1">
<section class="hero" aria-labelledby="intro-title">
<div class="container">
<h2 id="intro-title">자기소개</h2>
<article class="intro">
<p>
안녕하세요! 퍼블리셔 정하은의 개인 페이지입니다.<br />
HTML5 시맨틱 태그, 접근성, 그리고 깔끔한 UI를 목표로 하고 있어요.
</p>
<div class="cta">
<a class="btn primary" href="./login.html">로그인</a>
<a class="btn" href="./signup.html">회원가입</a>
</div>
</article>
</div>
</section>


<section class="status" aria-live="polite">
<div class="container">
<h3>로그인 상태</h3>
<p id="login-status">확인 중…</p>
<button id="logoutBtn" class="btn outline" hidden>로그아웃</button>
</div>
</section>
</main>


<footer>
<div class="container">
<small>© <span id="year"></span> myPage. All rights reserved.</small>
</div>
</footer>


<script>
// 연도 표시
document.getElementById('year').textContent = new Date().getFullYear();


// 세션 상태 반영
const statusEl = document.getElementById('login-status');
const logoutBtn = document.getElementById('logoutBtn');
const currentUser = sessionStorage.getItem('currentUserEmail');
const currentName = sessionStorage.getItem('currentUserName');


if (currentUser) {
statusEl.textContent = `${currentName ?? ''}(${currentUser})님, 환영합니다!`;
logoutBtn.hidden = false;
} else {
statusEl.innerHTML = '로그인이 필요합니다. <a href="./login.html">로그인</a> 또는 <a href="./signup.html">회원가입</a> 해주세요.';
logoutBtn.hidden = true;
}


logoutBtn?.addEventListener('click', () => {
sessionStorage.removeItem('currentUserEmail');
sessionStorage.removeItem('currentUserName');
location.reload();
});
</script>
</body>
</html>