<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>회원가입 | myPage</title>
  <link rel="stylesheet" href="../css/signup.css" />
  <!-- 카카오 우편번호 서비스 (인터넷 연결 필요) -->
  <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
</head>

<body>
  <header>
    <div class="container">
      <h1><a href="./main.html">myPage</a></h1>
      <nav aria-label="주요">
        <ul class="nav">
          <li><a href="./main.html">홈</a></li>
          <li><a href="./login.html">로그인</a></li>
          <li><a href="./signup.html" aria-current="page">회원가입</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="content" tabindex="-1">
    <section class="auth" aria-labelledby="signup-title">
      <div class="container">
        <h2 id="signup-title">회원가입</h2>

        <!-- ✅ 요구 항목: 이메일, 비밀번호/비밀번호확인(보기/숨기기), 이름, 닉네임, 핸드폰번호(자동하이픈),
             주소(카카오우편번호), 약관동의(필수/선택, 전체동의) -->
        <form id="signupForm" class="card" novalidate>
          <fieldset>
            <legend class="sr-only">회원 정보 입력</legend>

            <!-- 이메일 -->
            <div class="field">
              <label for="email">이메일</label>
              <input id="email" name="email" type="email" autocomplete="email" required />
              <small class="hint">로그인 아이디로 사용됩니다.</small>
            </div>

            <!-- 비밀번호 / 비밀번호 확인 + 보기/숨기기 -->
            <div class="field-group">
              <div class="field with-toggle">
                <label for="password">비밀번호</label>
                <input id="password" name="password" type="password" autocomplete="new-password" required
                  minlength="8" />
                <button type="button" class="toggle" aria-controls="password" aria-label="비밀번호 보기"
                  data-target="password">보기</button>
                <small class="hint">영문/숫자/특수문자 중 2가지 이상, 8자 이상 권장</small>

                <!-- ▼ 강도 미터 + 텍스트 -->
                <div class="meter-row">
                  <div id="pwStrength" class="meter" role="progressbar" aria-valuemin="0" aria-valuemax="4"
                    aria-valuenow="0" aria-label="비밀번호 강도"></div>
                  <span id="pwStrengthText" class="meter-text" aria-live="polite"></span>
                </div>
              </div>

              <div class="field with-toggle">
                <label for="passwordConfirm">비밀번호 확인</label>
                <input id="passwordConfirm" name="passwordConfirm" type="password" autocomplete="new-password"
                  required />
                <button type="button" class="toggle" aria-controls="passwordConfirm" aria-label="비밀번호 보기"
                  data-target="passwordConfirm">보기</button>

                <p id="pwMatchMsg" class="error" role="alert" aria-live="polite"></p>
              </div>
            </div>

            <!-- 이름 / 닉네임(간단 AI 제안 버튼 포함) -->
            <div class="field">
              <label for="name">이름</label>
              <input id="name" name="name" type="text" autocomplete="name" required />
            </div>

            <div class="field with-suggest">
              <label for="nickname">닉네임</label>
              <div class="row">
                <input id="nickname" name="nickname" type="text" autocomplete="nickname" required />
                <button class="btn ghost" type="button" id="nickSuggestBtn" aria-describedby="nickHelp">AI 닉네임
                  추천</button>
              </div>
              <small id="nickHelp" class="hint">버튼을 누르면 3개를 제안합니다. 하나를 클릭하면 자동 입력돼요.</small>
              <div id="nickSuggestions" class="suggestions" role="list" aria-label="닉네임 제안"></div>
            </div>


            <!-- 핸드폰 번호 (자동 하이픈) -->
            <div class="field">
              <label for="phone">핸드폰 번호</label>
              <input id="phone" name="phone" inputmode="numeric" pattern="[0-9-]*" placeholder="010-1234-5678"
                required />
              <small class="hint">숫자만 입력해도 자동으로 하이픈이 들어갑니다.</small>
            </div>

            <!-- 주소 (카카오 우편번호) -->
            <fieldset class="address">
              <legend>주소</legend>
              <div class="field row">
                <input id="zonecode" name="zonecode" type="text" placeholder="우편번호" readonly />
                <button class="btn" type="button" id="postcodeBtn">우편번호 찾기</button>
              </div>
              <div class="field">
                <label for="roadAddress">도로명 주소</label>
                <input id="roadAddress" name="roadAddress" type="text" readonly />
              </div>
              <div class="field">
                <label for="detailAddress">상세 주소</label>
                <input id="detailAddress" name="detailAddress" type="text" placeholder="동/호수 등" />
              </div>
            </fieldset>

            <!-- 약관 동의 (필수/선택, 전체 동의) -->
            <section class="terms" aria-labelledby="terms-title">
              <h3 id="terms-title">약관 동의</h3>

              <div class="field row allagree">
                <input type="checkbox" id="agreeAll" />
                <label for="agreeAll"><strong>전체 동의</strong> (선택 포함)</label>
              </div>

              <ul class="terms-list">
                <li class="field row">
                  <input type="checkbox" id="agreeTos" class="agree required" />
                  <label for="agreeTos">[필수] 이용약관 동의</label>
                  <details>
                    <summary>내용 보기</summary>
                    <p>서비스 이용에 관한 기본 약관입니다.</p>
                  </details>
                </li>

                <li class="field row">
                  <input type="checkbox" id="agreePrivacy" class="agree required" />
                  <label for="agreePrivacy">[필수] 개인정보 수집 및 이용 동의</label>
                  <details>
                    <summary>내용 보기</summary>
                    <p>회원가입을 위한 최소 정보 수집 및 이용에 대한 안내입니다.</p>
                  </details>
                </li>

                <li class="field row">
                  <input type="checkbox" id="agreeMarketing" class="agree optional" />
                  <label for="agreeMarketing">[선택] 마케팅 정보 수신 동의 (이메일/문자)</label>
                </li>
              </ul>
            </section>

            <p id="formError" class="error" role="alert" aria-live="assertive"></p>
            <button id="submitBtn" class="btn primary" type="submit" disabled>회원가입</button>
          </fieldset>
        </form>

        <p class="muted">이미 계정이 있으신가요? <a href="./login.html">로그인</a></p>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <small>© <span id="year"></span> myPage</small>
    </div>
  </footer>

  <script src="../js/signup.js" defer></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>

</html>